---
import Card from "../components/Card.astro";
import Layout from "../layouts/Layout.astro";

export async function getStaticPaths(){
    const posts = await Astro.glob("./noticias/*.md");
    return posts.map(post => ({
        params: {
            slug: post.frontmatter.slug
        },
        props: {
            post
        }
    }))
}
const {Content, frontmatter} = Astro.props.post;
---

<Layout title={frontmatter.title}>
    <section>
        <div class="bg-white p-6">
            <Card>
                <a href="/noticias">
                    <button class="bg-blue-900 py-2 px-3 rounded text-sm font-semibold uppercase text-white transition delay-200 duration-300 hover:bg-blue-500 mb-3">
                        regresar
                    </button>
                </a>
                <h3 class="text-3xl font-bold mb-3">{frontmatter.title}</h3>
                <div class="mb-3">
                    Written by <strong>{frontmatter.author}</strong> on <strong>{new Date(frontmatter.date).toLocaleDateString()}</strong>
                </div>
                <Content/>
            </Card>
        </div>
    </section>
</Layout>